!function(e){"use strict";function r(e){e={REQCD:"PIC_upload",RESP:e};document.getElementById("u4aAppiFrame").contentWindow.postMessage(e,"*")}e.onPIC_upload=function(a){""===e._langu&&(e._langu=oAPP.onConvLangu(a.langu)),navigator.camera.getPicture(function(e){window.resolveLocalFileSystemURL(e,function(e){e.file(function(e){var n,i,t=function(e,n){var i=n.name,f=n.type,n=n.size;if(""!=e.maxFileLen){var t=(a=i.split("."))[0].length;if(e.maxFileLen<t)return{erFunc:"fireFilenameLengthExceed"}}var a,s=(a=i.split("."))[a.length-1],r=e.fileType,l=r.length,o=!0;if(0==l)o=!1;else for(var u=0;u<l;u++){var m=r[u];if(s==m){o=!1;break}}if(o)return{erFunc:"fireTypeMissmatch"};var p=e.mimeType,y=e.mimeType.length,c=!0;if(0==y)c=!1;else for(u=0;u<y;u++){var d=p[u];if(f==d){c=!1;break}}if(c)return{erFunc:"fireTypeMissmatch"};if(""!=e.maxFileSize){t=parseFloat(e.maxFileSize)*Math.pow(2,20);if((t=Math.ceil(t))<n)return{erFunc:"fireFileSizeExceed"}}return!1}(a,e);t?r(t):(n=e.name,i=e.type,(t=new FileReader).onloadend=function(){r({content:new Blob([this.result],{type:i}),name:n})},t.readAsArrayBuffer(e))},function(){r({Result:"",Cancelled:"X"})})})},function(e){r({Result:"",Cancelled:"X"}),20==e&&alert(oAPP.onGetMsgTxt("0002"))},{quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA})}}(oAPP);