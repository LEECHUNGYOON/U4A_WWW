!function(e){"use strict";function r(e){e={REQCD:"PIC_upload",RESP:e};document.getElementById("u4aAppiFrame").contentWindow.postMessage(e,"*")}e.onPIC_upload=function(a){""===e._langu&&(e._langu=oAPP.onConvLangu(a.langu)),navigator.camera.getPicture(function(e){window.resolveLocalFileSystemURL(e,function(e){e.file(function(e){var n,i,t=function(e,n){var i=n.name,t=n.type,n=n.size;if(""!=e.maxFileLen){var a=(r=i.split("."))[0].length;if(e.maxFileLen<a)return{erFunc:"fireFilenameLengthExceed"}}var r,l=(r=i.split("."))[r.length-1],o=e.fileType,u=o.length,c=!0;if(0==u)c=!1;else for(var f=0;f<u;f++){var s=o[f];if(l==s){c=!1;break}}if(c)return{erFunc:"fireTypeMissmatch"};var m=e.mimeType,p=e.mimeType.length,y=!0;if(0==p)y=!1;else for(f=0;f<p;f++){var d=m[f];if(t==d){y=!1;break}}if(y)return{erFunc:"fireTypeMissmatch"};if(""!=e.maxFileSize){a=parseFloat(e.maxFileSize)*Math.pow(2,20);if((a=Math.ceil(a))<n)return{erFunc:"fireFileSizeExceed"}}return!1}(a,e);t?r(t):(n=e.name,i=e.type,(t=new FileReader).onloadend=function(){r({content:new Blob([this.result],{type:i}),name:n})},t.readAsArrayBuffer(e))},function(){r({Result:"",Cancelled:"X"})})})},function(e){r({Result:"",Cancelled:"X"}),20==e&&alert(oAPP.onGetMsgTxt("0002"))},{quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA})}}(oAPP);